<!DOCTYPE html>
<html>
<head>
  <title>Secure Mail Console</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<script>
const myToken = localStorage.getItem("session_token");
if (!myToken) {
  location.href = "/login.html";
}

// auto logout if another login happens
window.addEventListener("storage", (e) => {
  if (e.key === "session_token" && e.newValue !== myToken) {
    alert("Logged out (another login detected)");
    location.href = "/login.html";
  }
});
</script>

<div class="page">
  <div class="card">
    <h2 class="title">Secure Mail Console</h2>

    <div class="form-grid">
      <input placeholder="Sender Name">
      <input placeholder="Your Gmail">

      <!-- ðŸ” PASSWORD MASKED -->
      <input type="password" placeholder="App Password">

      <input placeholder="Email Subject">

      <textarea placeholder="Message Body"></textarea>
      <textarea placeholder="Recipients (comma / new line)"></textarea>
    </div>

    <div class="btn-row">
      <button>Send All</button>
      <button ondblclick="logout()">Logout</button>
    </div>

    <div class="limit-text">0/28</div>
  </div>
</div>

<script>
function logout() {
  localStorage.removeItem("session_token");
  location.href = "/login.html";
}
</script>

</body>
</html>
